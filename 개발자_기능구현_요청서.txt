# WINIPIC 2.0 디자인 전달 및 기능 구현 요청서

본 문서는 WINIPIC 2.0 디자인 리뉴얼 파일과 함께, 개발팀(백엔드/ASP.NET)에서 구현이 필요한 주요 기능적 요구사항을 정리한 것입니다.
단순 퍼블리싱(HTML/CSS)을 넘어, 자바스크립트 로직이나 서버 통신이 필요한 기능들을 중점적으로 확인 부탁드립니다.

---

## 1. 추가 기능 구현 요청

### (1) 부족 잔액 자동 계산 및 충전 프로세스 (Smart Charge)
**[위치]** `js/navbar.js` 내 `lackBalanceModalHTML`, `chargeModalHTML`
**[설명]** 주문 시 적립금 잔액이 부족할 경우, 사용자가 복잡한 계산 없이 부족한 만큼만 바로 충전할 수 있도록 유도하는 기능입니다.
**[구현 로직]**
1. 사용자가 **[주문등록]** 버튼 클릭 시, 서버에서 잔액을 확인합니다.
2. 잔액이 부족할 경우, **`lackBalanceModal` (부족 잔액 알림 모달)**을 띄워야 합니다.
3. 이때 모달에는 다음 정보가 표시되어야 합니다:
    - **신규 주문 금액** (Server Data)
    - **현재 보유 잔액** (Server Data)
    - **부족 금액** (= 주문 금액 - 보유 잔액)
4. **[부족금액 충전하기]** 버튼 클릭 시:
    - `toggleChargeModal(true, 부족금액)` 함수를 호출합니다.
    - **충전 요청 모달**이 열리면서 **[충전금액]** 입력 필드에 '부족 금액'이 **자동으로 입력**되어야 합니다.
    - 예시 코드(`navbar.js`): `<button onclick="toggleChargeModal(true, 10580)">` 참고

### (2) 메인 대시보드 위젯 (실시간 현황)
**[위치]** `index.html` > `.w-dashboard-grid` 영역
**[설명]** 사용자가 로그인 후 메인화면 진입 시, 본인의 주문/배송 상태를 직관적으로 파악해야 합니다.
**[요구사항]**
- 아래 항목에 대한 실시간 카운트 데이터를 불러와 숫자를 표시해주세요.
    - **주문 접수**: 한국접수 +중국 접수 건수
    - **중국 배송**: 중국 배송 건수
    - **한국 배송**: 한국 배송 건수
    - **배송 완료**: 배송 완료 건수

- 디자인 파일에는 하드코딩된 숫자("4건", "12개" 등)가 들어있으므로, 이를 실제 데이터로 치환해야 합니다.

### (3) GitHub Pages Iframe 연동 (가이드/회사소개)
**[위치]** `guide.html`, `about.html`
**[설명]** 유지보수 효율성을 위해, 자주 바뀌는 콘텐츠(가이드, 회사소개)는 GitHub Pages에 호스팅된 외부 HTML을 `<iframe>`으로 불러오도록 설계했습니다.
**[요구사항]**
- 현재 `src` 속성에 적용된 GitHub Pages URL(`https://pshqkr-jpg.github.io/...`)이 실제 운영 서버에서도 정상적으로 로드되는지 확인해주세요. (보안 정책/CSP 확인 필요)
- 아이프레임 내부 페이지(`guide_content.html`)는 반응형 높이 조절이 필요할 수 있습니다. (현재는 CSS `calc(100vh - 60px)` 등으로 처리됨)

---

## 2. 프론트엔드/스크립트 로직 확인 (JavaScript)

### (1) 카카오톡 상담하기 SDK
**[위치]** `js/navbar.js` 하단 `Kakao.init` 및 `openKakaoChat()`
**[설명]** 우측 하단 또는 헤더의 아이콘 클릭 시 카카오톡 채널 채팅을 띄웁니다.
**[요구사항]**
- App Key(`033b2d21a96729aa225a60f1043b24f2`)가 적용되어 있습니다.
- 실제 운영 도메인(winipic.com )에서만 작동되도록 카카오sdk에 반영되어있습니다.

### (2) 로그인 세션 처리 방식 변경
**[위치]** `js/navbar.js` > `renderNavbar()`
**[설명]** 현재 디자인 시안은 `localStorage.getItem('isLoggedIn')` 값을 통해 로그인 여부(UI 변경)를 판단하고 있습니다.
**[요구사항]**
- 레거시 시스템(ASP.NET)의 세션 체크 로직(C# Session/Cookie 등)으로 **반드시 교체**해야 합니다.
- 로그인 상태일 때만 '마이페이지 서브메뉴(Sticky header)'와 '로그인 사용자용 툴바'가 노출되도록 조건문을 수정해주세요.

### (3) 모달 시스템 구조
**[위치]** `js/navbar.js` (전역 함수)
**[설명]** 모든 모달(`pointsModal`, `chargeModal`, `lackBalanceModal`)은 `navbar.js`에서 동적으로 HTML을 생성하여 `body` 끝에 붙이는 방식입니다.
**[참고]**
- 페이지마다 HTML을 중복 작성할 필요 없이, 자바스크립트 함수(`togglePointsModal(true)` 등)만 호출하면 됩니다.
- 백엔드에서 데이터가 필요한 경우(예: 적립금 내역 리스트), 모달을 띄우기 전이나 띄운 직후 AJAX 등을 통해 데이터를 로드하여 `<tbody>` 내부에 주입하는 로직이 추가되어야 합니다.

### (4) 서브메뉴(Sticky Header) 노출 로직
**[위치]** `js/navbar.js` > `renderNavbar()` 하단 `myPageRoutes`
**[설명]** 로그인 시 노출되는 '마이페이지 서브헤더'는 현재 URL에 특정 파일명(예: order_history.html)이 포함되어 있어야만 나타납니다.
**[요구사항]**
- 개발 환경(ASP.NET 라우팅)에 맞춰 `const myPageRoutes` 배열 내의 경로 조건을 `IsMyPage` 같은 서버 사이드 변수나 실제 라우트 경로로 수정해야 합니다.
- 최근 추가된 `wishlist.html`, `notice.html` 등이 누락되지 않도록 주의해주세요.

### (5) PC/Mobile 레이아웃 제어 (View Class)
**[위치]** `global.css` 하단 및 HTML 내 `mobile-hide`, `desktop-only`
**[설명]** 반응형 웹 구현을 위해 일부 요소(예: 엑셀 주문 카드, 툴바 버튼 등)에 `desktop-only` 또는 `mobile-hide` 클래스를 사용했습니다.
**[주의]** 
- 개발 시 임의로 `style="display:none"`을 주면, `desktop-only`가 가진 `display:block` 속성과 충돌하여 레이아웃이 깨질 수 있습니다.
- 반드시 제공된 CSS 클래스(`desktop-only`, `mobile-hide`)를 활용해 제어해주세요.

### (6) 퀵메뉴 알림 배지 (마네킹샷 등)
**[위치]** `js/navbar.js` > `quickMenuHTML` 내부
**[설명]** 우측 하단 플로팅 퀵메뉴의 '마네킹샷 확인' 아이콘에 빨간색 알림 배지(숫자)를 추가했습니다.
**[요구사항]**
- 사용자가 확인해야 할 건수(예: 촬영 완료되었으나 아직 확인하지 않은 마네킹샷)가 있을 경우, 해당 숫자를 배지에 표시해주세요.
- 건수가 0이면 배지를 숨겨주세요 (`display: none` 또는 요소 제거).
- **문의사항:** 실시간 반영이 어렵다면 페이지 로드 시점에만 체크하여 표시해도 괜찮습니다. 가능한 방식을 검토 부탁드립니다.

---

## 3. 기타 UI 디자인 특이사항

### (1) 로고(SVG) 적용
- `js/navbar.js` 내에 SVG 코드로 로고가 직접 삽입되어 있습니다. 이미지 파일(.png)이 아니므로 코드로 색상(`fill="#111"`) 수정이 가능합니다.

### (2) 폰트 (Pretendard & Inter)
- `global.css` 최상단에 `Pretendard`(한글 주력)와 `Inter`(영문/숫자 강조) 웹폰트가 임포트되어 있습니다.
- 사내망 등 폐쇄망 환경이 아니라면 CDN 링크를 그대로 사용하시면 됩니다.

---

**[전달 파일 목록]**
- `/css`: global.css (전체 스타일)
- `/js`: navbar.js, footer.js (공통 스크립트)
- `/images`: 이미지 리소스
- `*.html`: 각 페이지별 디자인 시안

문의사항이 있으시면 저에게 연락 바랍니다.
