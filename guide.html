<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>위니픽 - 이용 가이드</title>
    <link rel="stylesheet" href="global.css">
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <script src="js/navbar.js" defer></script>
    <script src="js/footer.js" defer></script>
    <style>
        body {
            background-color: #fff;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            /* Allow vertical scroll, hide horizontal */
        }

        /* Iframe Container */
        .iframe-container {
            width: 100%;
            min-height: calc(100vh - 60px);
            margin-top: 60px;
            /* Header Height */
        }

        iframe {
            width: 100%;
            /* Height will be controlled by JS */
            min-height: calc(100vh - 60px);
            border: none;
            display: block;
            overflow: hidden;
        }
    </style>
</head>

<body>
    <header class="w-header"></header>

    <div class="iframe-container">
        <!-- Changed to relative path for auto-resizing support -->
        <iframe id="guideFrame" src="guide_content.html" title="Guide Content" scrolling="no"></iframe>
    </div>

    <script>
        const iframe = document.getElementById('guideFrame');

        function resizeIframe() {
            try {
                if (iframe.contentWindow && iframe.contentWindow.document.body) {
                    const height = iframe.contentWindow.document.body.scrollHeight;
                    if (height > 50) {
                        iframe.style.height = height + 'px';
                    }
                }
            } catch (e) {
                // Cross-origin fallback (should not happen with relative path)
                console.warn('Iframe resize failed:', e);
            }
        }

        // Initial resize on load
        iframe.onload = function () {
            resizeIframe();
            // Try to observe internal changes
            try {
                const resizeObserver = new ResizeObserver(() => resizeIframe());
                resizeObserver.observe(iframe.contentWindow.document.body);
            } catch (e) {
                // Fallback interval if ResizeObserver fails or blocked
                setInterval(resizeIframe, 500);
            }
        };

        window.addEventListener('resize', resizeIframe);

        // Continuous check for robust resizing
        setInterval(resizeIframe, 1000);
    </script>

</body>

</html>